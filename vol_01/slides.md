---
title: 第一回：あなたのコードはどこで動いている？
---

# あなたのコードは<br>どこで動いている？

フロントエンドエンジニア・マークアップエンジニアが知るべき<br>スキルセット分布図

---

## 自己紹介

---

## こんな疑問、ありませんか？

- `npm install` って何をしているの？
- なぜNode.jsをインストールしないといけないの？
- Webサーバーって結局なに？

---

## 今日のゴール

フロントエンドエンジニアのスキルセットの全体像を把握して、自分が取り組んでいる領域を把握し俯瞰できるようになる

---

## 目次

1. コードが動く3つの場所
2. スキルセット分布図
3. ビルドツールの話
4. Webサーバーとランタイムの関係
5. ブラウザとNode.jsの違い
6. まとめ

---

## コードが動く3つの場所

- **開発マシン（自分のPC）** - コードを書いて、ビルドして、テストする場所
- **サーバー（24時間稼働のPC）** - リクエストを受けて、レスポンスを返すPC
- **ユーザーの端末** - PC、スマホ、タブレット。自分たちがコントロールできない環境

---

## スキルセット分布図

---

### 分布図

| | 開発マシン | サーバー | ユーザーの端末 |
|---|---|---|---|
| ネイティブアプリ | Git / VS Code | ffmpeg 等 | Electron / iOS・Androidアプリ |
| ブラウザ | - | - | Chrome / Safari / Firefox |
| 　└ その上で動くもの | - | - | React / Vue.js / jQuery / Three.js |
| Webサーバー | - | nginx / Apache | - |
| ランタイム | Node.js | Node.js / PHP | - |
| 　└ その上で動くもの | Vite / webpack（ビルドツール） | Next.js / Express / Laravel | - |

---

## ビルドツールの話

---

### なぜそのまま配信しないのか

1. ブラウザが理解できない記法がある（Sass, JSX, TypeScript）
2. ファイルが多すぎると遅い
3. 余計なコードを削りたい

---

### ビルドツールがやっていること

**変換**: Sass → CSS, TypeScript → JavaScript

**バンドル**: 複数ファイルを1つにまとめる

**最適化**: minify, tree shaking

---

### npmとは

Node.jsに付属するパッケージマネージャー

- `npm install` でライブラリをダウンロード
- `package.json` で依存関係を管理
- `npm run build` でビルド実行

---

## Webサーバーとランタイムの関係

---

### 3つのパターン

| パターン | Webサーバー | ランタイム | 関係 |
|---|---|---|---|
| 静的配信 | nginx / Apache | なし | Webサーバーのみ |
| PHP | nginx / Apache | PHP | Webサーバーがランタイムを呼び出す |
| Node.js | Node.js自体 | Node.js | 一体化 |

---

### パターン1：静的ファイル配信

```
リクエスト → nginx → HTML/CSS/JSをそのまま返す
```

ランタイム不要

---

### パターン2：PHP

```
リクエスト → nginx → PHP-FPM → レスポンス
```

WebサーバーがPHPランタイムを呼び出す

---

### パターン3：Node.js

```
リクエスト → Node.js → レスポンス
```

ランタイムとWebサーバーが一体化

---

## ブラウザとNode.jsの違い

---

### 同じJavaScriptなのに、なぜ違う？

| | Node.js | ブラウザ |
|---|---|---|
| ファイル読み書き | ○ | ✕ |
| ネットワーク自由 | ○ | 制限あり（CORS） |
| OS操作 | ○ | ✕ |
| DOM操作 | ✕ | ○ |
| カメラ・マイク | ✕ | ○（許可制） |

---

### 理由1：サンドボックス

ブラウザは「他人の信頼できないコードを実行する」環境

→ セキュリティのため制限

---

### 理由2：実行環境が提供するAPI

- ブラウザ → DOM API、デバイスアクセスAPI
- Node.js → ファイルシステムAPI、ネットワークAPI

---

## まとめ

- コードが動く場所は3つ：開発マシン、サーバー、ユーザーの端末
- 各場所で動くソフトウェアがある
- フレームワークやライブラリは「その上で動くもの」
- 同じJSでもブラウザとNode.jsでは違う

---

## 質疑応答

---

## 次回予告

**第二回：マークアップとプログラミングの違い**

---

## ありがとうございました
